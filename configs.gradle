ext {

    /** 当xml中没有代码提示时把版本改成32 */
    /** compileSdkVersion>=targetSdkVersion>minSdkVersion */
    /** 编译APP 时使用的 Android API 版本 */
    compile_sdk_version = 35
    /** 构建工具的版本，其中包括了打包工具aapt、dx等等。*/
    build_tools_version = "35.0.0"
    /** 应用程序支持的最低 API 版本 */
    min_sdk_verion = 23
    /** 目标版本 */
    target_sdk_version = 30

    /**编译环境*/
    // 测试服
    def SERVER_TYPE_DEBUG = "debug"
    // 预发布服
    def SERVER_TYPE_PREVIEW = "preview"
    // 正式服-可debug
    def SERVER_TYPE_PRE_RELEASE = "prerelease"
    // 正式服
    def SERVER_TYPE_RELEASE = "release"
    /**编译环境*/

    // 任务名称，类似：app:assembleDebug、app:assemblePreview、app:assembleRelease
    def taskName = project.gradle.startParameter.taskNames[0]
    if (taskName == null) {
        taskName = ""
    }
    // 打印当前执行的任务名称
    println "GradleLog TaskNameOutput " + taskName

//    def serverType = SERVER_TYPE_RELEASE

    // 匹配执行的任务名称来配置对应的编译环境
    if (taskName.endsWith("Debug")) {
        serverType = SERVER_TYPE_DEBUG
    } else if (taskName.endsWith("Preview")) {
        serverType = SERVER_TYPE_PREVIEW
    }else if (taskName.endsWith("Prerelease")) {
        serverType = SERVER_TYPE_PRE_RELEASE
    }else if (taskName.endsWith("Release")) {
        serverType = SERVER_TYPE_RELEASE
    } else {
        serverType = SERVER_TYPE_DEBUG
    }

    // 从 Gradle 命令中读取参数配置，例如：./gradlew assembleRelease -P ServerType="test"
    // 如果gradle.properties中配置的有ServerType，则配置环境从ServerType读取
    if (project.hasProperty("ServerType")) {
        serverType = project.properties["ServerType"]
    }

    // 打印当前服务器配置
    println "GradleLog ServerTypeOutput " + serverType

    // 是否走阿里云配置
    CHECK_ALIYUN = true

    LOG_ENABLE = !IS_RELEASE_PACKAGE.toBoolean()
    // 根据编译环境配置HOST_URL等环境变量
    if (IS_RELEASE_PACKAGE.toBoolean()){
        HOST = "https://static.hotkidceo.com"
        APP_CONFIG_SERVER_IP = "https://srv.hotkidceo.com"
        APP_RES_URL = "https://img.hotkidceo.com/res"
        MEMBER_CENTER_URL = "https://srv.hotkidceo.com/ceo/h5Buygift/511/prodGift"
        APP_EVENT_IP = "http://115.159.99.127:32186/api/v1/client_logs"
        APP_SHARE_IP = "https://h0w.co/q/1Z"
        if(CHECK_ALIYUN.toBoolean() == true) {
            DOMAIN_FILE_URL = "https://prd-static.hotkidceo.com"
        } else {
            DOMAIN_FILE_URL = "https://hotkidceo-1251330842.file.myqcloud.com"
        }
        APP_SHARE_TYPE = true
    }else {
        // 不同环境的key 可以在这里配
        switch(serverType) {
            case SERVER_TYPE_DEBUG:
                HOST = "http://dev-static.hotkidceo.com"
                APP_CONFIG_SERVER_IP = "https://dev-api.hotkidceo.com"
                APP_RES_URL = "http://dev-static.hotkidceo.com/res"
                MEMBER_CENTER_URL = "https://dev-api.hotkidceo.com/ceo/h5Buygift/511/prodGift"
                APP_EVENT_IP = "http://115.159.99.127:32186/api/v1/client_logs"
                APP_SHARE_IP = "https://dev-api.hotkidceo.com/store/"
                if(CHECK_ALIYUN.toBoolean() == true) {
                    DOMAIN_FILE_URL = "https://sit-static.hotkidceo.com"
                } else {
                    DOMAIN_FILE_URL = "https://hotkidceo-1251330842.file.myqcloud.com"
                }
                APP_SHARE_TYPE = false
                break
            case SERVER_TYPE_PREVIEW:
                HOST = "https://stg-static.hotkidceo.com"
                APP_CONFIG_SERVER_IP = "https://stg-srv.hotkidceo.com"
                APP_RES_URL = "https://stg-img.hotkidceo.com/res"
                MEMBER_CENTER_URL = "https://srv.hotkidceo.com/ceo/h5Buygift/511/prodGift"
                APP_EVENT_IP = "http://115.159.99.127:32186/api/v1/client_logs"
                APP_SHARE_IP = "https://h0w.co/q/1Z"
                if(CHECK_ALIYUN.toBoolean() == true) {
                    DOMAIN_FILE_URL = "https://stg-static.hotkidceo.com"
                } else {
                    DOMAIN_FILE_URL = "https://hotkidceo-1251330842.file.myqcloud.com"
                }
                APP_SHARE_TYPE = false
                break
            case SERVER_TYPE_PRE_RELEASE:
            case SERVER_TYPE_RELEASE:
                HOST = "https://static.hotkidceo.com"
                APP_CONFIG_SERVER_IP = "https://srv.hotkidceo.com"
                APP_RES_URL = "https://img.hotkidceo.com/res"
                MEMBER_CENTER_URL = "https://srv.hotkidceo.com/ceo/h5Buygift/511/prodGift"
                APP_EVENT_IP = "http://115.159.99.127:32186/api/v1/client_logs"
                APP_SHARE_IP = "https://h0w.co/q/1Z"
                if(CHECK_ALIYUN.toBoolean() == true) {
                    DOMAIN_FILE_URL = "https://prd-static.hotkidceo.com"
                } else {
                    DOMAIN_FILE_URL = "https://hotkidceo-1251330842.file.myqcloud.com"
                }
                APP_SHARE_TYPE = true
                break
            default :
                break
        }
    }

}